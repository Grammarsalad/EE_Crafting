BACKUP ~backup/B_Crafting~
AUTHOR ~Grammarsalad~
//README ~B_Spells\B_Spells_README.pdf~

VERSION ~0.00.01~


ALWAYS

        OUTER_SPRINT ~folder~ ~B_Crafting~

        ACTION_IF ((!FILE_CONTAINS_EVALUATED(~spell.ids~ ~CLERIC_OBSCURING_MIST~)) AND (FILE_EXISTS_IN_GAME ~dvsrv4here.mrk~)) BEGIN
	   INCLUDE ~B_Crafting/lib/add_ids.tpa~
        END

 	ACTION_IF GAME_IS ~bg2ee~ THEN BEGIN
          OUTER_SPRINT ~game~ ~bg2ee~
        END

 	ACTION_IF GAME_IS ~bgee~ THEN BEGIN
          OUTER_SPRINT ~game~ ~bgee~
        END

 	ACTION_IF GAME_IS ~iwdee~ THEN BEGIN
          OUTER_SPRINT ~game~ ~iwdee~
        END

 	ACTION_IF GAME_IS ~bgee bg2ee eet~ THEN BEGIN
          OUTER_SPRINT ~style~ ~bgee~
        END

 	ACTION_IF GAME_IS ~iwdee~ THEN BEGIN
          OUTER_SPRINT ~style~ ~iwdee~
        END


        INCLUDE ~B_Crafting/lib/spon_cast_functions.tpa~

        INCLUDE ~B_Crafting/lib/replace_text.tpa~

        INCLUDE ~B_Crafting/lib/add_icons.tpa~

        INCLUDE ~B_Crafting/lib/add_headers.tpa~

        INCLUDE ~B_Crafting/lib/add_spell_ex.tpa~

        INCLUDE ~B_Crafting/lib/add_sumtable.tpa~

	INCLUDE ~B_Crafting/lib/SEQUENCER_MENU.tpa~
        
        INCLUDE ~B_Crafting/lib/illusion_crea.tpa~

        INCLUDE ~B_Crafting/lib/alter_spell_type.tpa~

        INCLUDE ~B_Crafting/lib/second_opp.tpa~

        INCLUDE ~B_Crafting/lib/tooltips.tpa~

        INCLUDE ~B_Crafting/lib/make_cantrip.tpa~

//        INCLUDE ~B_Crafting/lib/room_for_spells.tpa~

        INCLUDE ~B_Crafting/lib/alter_effect.tpa~

        INCLUDE ~B_Crafting/lib/alter_effect_add.tpa~

	INCLUDE ~B_Crafting/lib/remove_lines.tpa~

	INCLUDE ~B_Crafting/lib/summon_table.tpa~

	INCLUDE ~B_Crafting/lib/splprot_attributes.tpa~

	INCLUDE ~B_Crafting/lib/spell_to_innate.tpa~

	INCLUDE ~B_Crafting/lib/spell_clone_effects.tpa~

        INCLUDE ~B_Crafting/lib/bg2fp_effect_batches_fnp.tpa~

        INCLUDE ~B_Crafting/lib/bg2fp_effect_batches_b_vise.tpa~

        INCLUDE ~B_Crafting/lib/bg2fp_effect_batches_spell_saves.tpa~

        INCLUDE ~B_Crafting/lib/extra_alter_effect.tpa~


END

//Below from IWDification. Looks like a way to check spell.ids for particular spells...
//ACTION_IF (!FILE_CONTAINS_EVALUATED(~spell.ids~ ~WIZARD_SNILLOCS_SNOWBALL_SWARM~) OR override_arcane) BEGIN

//need to keep my options open

ASK_EVERY_COMPONENT

/* Language Settings */
AUTO_TRA ~B_Crafting/tra/%s~
LANGUAGE ~English~ ~english~
         ~B_Crafting/tra/english/setup.tra~
         ~B_Crafting/tra/english/items.tra~  //for items
         ~B_Crafting/tra/english/icons.tra~   //icons


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////                                                                          ////////////////////////
////////////////////////               Spells & Magic: ??? - ???: Magic Item Creation             ////////////////////////
////////////////////////                                                                          ////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//__________________________________________________________________________________
//__________________________________________________________________________________
//
//			4011: Install Simple Item creation for arcane classes
//__________________________________________________________________________________
//__________________________________________________________________________________

BEGIN @26  //Install Simple Item creation for arcane classes
SUBCOMPONENT @52 //Item Creation
DESIGNATED 4011
GROUP @52 //Item Creation
REQUIRE_PREDICATE GAME_IS ~bgee bg2ee eet iwdee~ @17 //~EE games only!~  ...for now

//missing items
INCLUDE ~%folder%/lib/missing_items.tpa~        //New items



//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////                                                                          ////////////////////////
////////////////////////              Spells & Magic: ???-???: New and Revised Items              ////////////////////////
////////////////////////                                                                          ////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
///////                                                              ///////
///////                Components 501-???: New Items                 ///////
///////                                                              ///////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////

//__________________________________________________________________________________
//__________________________________________________________________________________
//
//			501: Install All new items (including IWDEE items if applicable)
//__________________________________________________________________________________
//__________________________________________________________________________________

/*
//not ready
BEGIN @4  //Install All new items (including IWDEE items if applicable)
SUBCOMPONENT @101
DESIGNATED 501
GROUP @6 
REQUIRE_PREDICATE GAME_IS ~bgee bg2ee eet iwdee~ @17 //~EE games only!~  for now

ACTION_IF !FILE_EXISTS_IN_GAME ~d5_spheres.d5~ BEGIN  //no fnp spheres
  INCLUDE ~%folder%/data/components/Setup_Priest_Scrolls.tpa~      //Priest Scrolls
END
ACTION_IF FILE_EXISTS_IN_GAME ~d5_spheres.d5~ BEGIN  //fnp spheres (of some kind)
  INCLUDE ~%folder%/data/components/Setup_Priest_Scrolls_fnp.tpa~      //Priest Scrolls
END

INCLUDE ~%folder%/data/components/Setup_New_Wands.tpa~      //Priest Scrolls

//__________________________________________________________________________________
//__________________________________________________________________________________
//
//			4001: Install the Standard (Simulated PnP) version of Item creation for all casting classes
//__________________________________________________________________________________
//__________________________________________________________________________________

BEGIN @50  //Install the Standard (Simulated PnP) version of Item creation for all casting classes
SUBCOMPONENT @52 //Item Creation
DESIGNATED 4001
GROUP @52 //Item Creation
REQUIRE_PREDICATE GAME_IS ~bgee bg2ee eet iwdee~ @17 //~EE games only!~  ...for now

//player notebook of recipies
// Notebook files - notebook itself
COPY ~%folder%/data/arcane_crafting/B_NBOOKA.bam~ ~override~  //   B_NBOOK.itm
COPY ~%folder%/data/arcane_crafting/B_NBOOKB.bam~ ~override~  //   B_NBOOK.itm
COPY ~%folder%/data/arcane_crafting/B_NBOOKC.bam~ ~override~  //   B_NBOOK.itm
//the notebook/store itself
COPY ~%folder%/data/arcane_crafting/B_NBOOK.sto~ ~override~  //   B_NBOOK.itm
	SAY STORE_NAME @900010050
COPY ~%folder%/data/arcane_crafting/B_NBOOK.itm~ ~override~  //
	SAY NAME1 @900010050
	SAY NAME2 @900010050
	SAY IDENTIFIED_DESC @900010051
	SAY UNIDENTIFIED_DESC @900010051
//pages
//blank pages
COPY ~%folder%/data/arcane_crafting/B_PPTN00.itm~ ~override~  //
	SAY NAME1 @900010053
	SAY NAME2 @900010053
	SAY IDENTIFIED_DESC @900010054
	SAY UNIDENTIFIED_DESC @900010054

COPY ~%folder%/data/arcane_crafting/B_PPTN00.bam~ ~override~  //   blank page small
COPY ~%folder%/data/arcane_crafting/B_BPTN00.bam~ ~override~  //   blank page large


//non-blank pages
COPY ~%folder%/data/arcane_crafting/B_PPTN01.bam~ ~override~  //   non-blank page small - potions

// CONTINUE
/*
//Potion recepe
COPY ~%folder%/data/arcane_crafting/B_PPTN00.bam~ ~override~  //   really need a second frame, here...
COPY ~%folder%/data/arcane_crafting/B_PPTNA.bam~ ~override~  //   kinda ugly (need to get rid of green, but I don't want to mess it up...)

COPY ~%folder%/data/arcane_crafting/B_PPTN00.itm~ ~override~  //generic potion page (will use as a base to copy all others over)
	SAY NAME1 @900010052
	SAY NAME2 @900010052
//	SAY IDENTIFIED_DESC @900010051
//	SAY UNIDENTIFIED_DESC @900010051

//Add 'pages' to notebook to do CONTINUE (i.e. w/add store item)

*/

////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////
///////                                                              ///////
///////                505: Install Priest Scrolls                   ///////
///////                                                              ///////
////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////

/*

//  Not ready

BEGIN @22  //Install Priest Scrolls
//SUBCOMPONENT @101
DESIGNATED 505
GROUP @6 
REQUIRE_PREDICATE GAME_IS ~bgee bg2ee eet iwdee~ @17 //~EE games only!~  for now

ACTION_IF !FILE_EXISTS_IN_GAME ~d5_spheres.d5~ BEGIN  //no fnp spheres
  INCLUDE ~%folder%/data/components/Setup_Priest_Scrolls.tpa~      //Priest Scrolls
END
ACTION_IF FILE_EXISTS_IN_GAME ~d5_spheres.d5~ BEGIN  //fnp spheres (of some kind)
  INCLUDE ~%folder%/data/components/Setup_Priest_Scrolls_fnp.tpa~      //Priest Scrolls
END

*/





